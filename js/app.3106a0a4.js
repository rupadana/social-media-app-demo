(function(t){function e(e){for(var s,c,a=e[0],i=e[1],u=e[2],f=0,p=[];f<a.length;f++)c=a[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(s=!1)}s&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var s={},o={app:0},r=[];function c(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=s,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(n,s,function(e){return t[e]}.bind(null,s));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=i;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},16:function(t,e){},17:function(t,e){},18:function(t,e){},19:function(t,e){},2:function(t,e){},20:function(t,e){},21:function(t,e){},22:function(t,e){},23:function(t,e){},24:function(t,e){},25:function(t,e){},26:function(t,e){},27:function(t,e){},3:function(t,e){},"30e8":function(t,e,n){},4:function(t,e){},5:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("a026"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("layout")],1)},r=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.active_index,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:""},on:{select:t.handleSelect}},[t._l(t.nav_menus,(function(e){return n("el-menu-item",{key:e.path,attrs:{index:e.path}},[t._v(t._s(e.name))])})),n("div",{staticStyle:{float:"right",height:"60px","padding-right":"10px"}},[n("div",{staticStyle:{display:"flex",height:"100%","align-items":"center"}},[t.isAuthenticated?t._e():n("el-button",{attrs:{type:"warning"},on:{click:t.login}},[t._v(" Sign in using Metamask")]),t.isAuthenticated?t._e():n("el-button",{attrs:{type:"primary"},on:{click:t.loginWalletConnect}},[t._v(" Sing in using Wallet Connect ")]),t.isAuthenticated?n("el-submenu",{attrs:{index:""}},[n("template",{slot:"title"},[t._v(t._s(t.username))]),n("el-menu-item",{attrs:{index:""},on:{click:t.change_username}},[t._v(" Change Username ")]),n("el-menu-item",{attrs:{index:""},on:{click:t.logout}},[t._v("Logout")])],2):t._e()],1)])],2),n("router-view")],1)},a=[],i=n("5530"),u=(n("99af"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container mt-2"},[t.isAuthenticated?n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-3 col-md-3 col-lg-1 d-flex justify-content-center"},[n("el-avatar",[t._v(" "+t._s(t.image_username)+" ")])],1),n("div",{staticClass:"col-6 col-md-6 col-lg-4"},[n("el-input",{attrs:{placeholder:"What is in your mind?",type:"textarea",size:"medium"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1),n("div",{staticClass:"col-3 col-md-3 col-lg-1"},[n("el-button",{attrs:{type:"primary"},on:{click:t.createNewPost}},[t._v(" Post ")])],1)]):t._e(),n("div",{staticClass:"col-12"},t._l(t.posts,(function(t){return n("post",{key:t.objectId,attrs:{post:t}})})),1)])}),l=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.post?n("div",{staticClass:"row justify-content-center mt-3"},[n("div",{staticClass:"col-12 col-md-12 col-lg-6"},[n("div",{staticClass:"col-12"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-1"},[n("el-avatar",[t._v(" "+t._s(t._f("img_username")(t.post.get("writer").get("username")))+" ")])],1),n("div",{staticClass:"col d-flex justify-content-center flex-column"},[n("p",{staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(t.post.get("writer").get("username"))+" ")]),n("p",{staticStyle:{color:"#00000061","font-size":"10pt"}},[t._v(" "+t._s(t.post.createdAt)+" ")])]),n("el-divider",{staticClass:"mt-2"}),n("p",[t._v(" "+t._s(t.post.attributes.content)+" ")])],1)])],1)])]):t._e()},p=[],m={props:["post"]},d=m,h=n("2877"),g=Object(h["a"])(d,f,p,!1,null,null,null),v=g.exports,_=n("2f62"),b={components:{Post:v},data:function(){return{}},methods:Object(i["a"])({createNewPost:function(){var t=this;if(!this.new_post.content)return this.$notify({title:"Content Required",message:"You must write some content",type:"info"});this.createPost().then((function(e){t.$notify({title:"Success",message:"Post Successfully Created",type:"success"}),t.getAllPost()})).catch((function(t){console.log(t)}))}},Object(_["b"])(["createPost","getAllPost"])),computed:Object(i["a"])(Object(i["a"])({},Object(_["c"])(["image_username","new_post","isAuthenticated","posts"])),{},{status:{get:function(){return this.new_post.content},set:function(t){this.$store.commit("setPostContent",t)}}}),mounted:function(){this.getAllPost()}},y=b,w=Object(h["a"])(y,u,l,!1,null,null,null),x=w.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-5",attrs:{id:"about"}},[n("p",[t._v("This is demo project")]),n("p",{staticClass:"mt-2"},[t._v("Project supporter :")]),n("div",{staticClass:"mt-5"},t._l(t.supporter,(function(t){return n("img",{key:t,staticClass:"p-3",attrs:{height:"50",src:t,alt:""}})})),0),t._m(0)])},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"mt-5"},[t._v(" Source code - "),n("a",{attrs:{href:"https://github.com/rupadana/social-media-app"}},[t._v("Social Media App")])])}],O={data:function(){return{supporter:["https://vuejs.org/images/logo.svg","https://moralis-forum.s3.dualstack.eu-north-1.amazonaws.com/original/1X/cd52036eda033c0e0159daddf654121b9ef8949c.png","https://metamask.io/images/mm-logo.svg","https://api.nuget.org/v3-flatcontainer/walletconnect.desktop/1.6.5/icon"]}}},P=O,k=(n("88d0"),Object(h["a"])(P,j,C,!1,null,null,null)),S=k.exports,A=[{name:"Dashboard",path:"/",component:x},{name:"About",path:"/foo",component:S}],U=[].concat(A,[{path:"/bar",component:{template:"<span>Bar</span>"}}]),$={data:function(){return{active_index:"/",nav_menus:A}},methods:Object(i["a"])({login:function(){var t=this;this.login_process().catch((function(e){console.log(e.message,e.code),4001==e.code&&t.$notify({type:"info",title:"Sign canceled",message:"Sign process canceled because user denied message signature"})}))},loginWalletConnect:function(){var t=this;this.login_process({provider:"walletconnect"}).catch((function(e){t.$notify({type:"info",title:"Sign canceled",message:"Sign process canceled because user close modal"})}))},handleSelect:function(t,e){console.log(t,e)},change_username:function(){var t=this;this.$prompt("Tell me your awesome username","Change username",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/[a-z0-9 ]+/,inputErrorMessage:"Invalid Username"}).then((function(e){var n=e.value;t.changeUsername(n).then((function(e){t.$notify({title:"Success",message:"Username successfully changed",type:"success"})})).catch((function(e){t.$notify({title:"Error",message:e.message,type:"error"})}))})).catch((function(){t.$message({type:"info",message:"Change username canceled"})}))}},Object(_["b"])(["login_process","checkAuth","logout","changeUsername"])),computed:Object(i["a"])({},Object(_["c"])(["username","isAuthenticated"])),mounted:function(){this.checkAuth()}},E=$,M=Object(h["a"])(E,c,a,!1,null,null,null),T=M.exports,z={name:"App",components:{Layout:T},data:function(){return{activeIndex2:"1"}},methods:{login:function(){this.$moralis.authenticate().then((function(t){console.log(t)}))}},mounted:function(){this.$moralis.User.logOut(),console.log(this.$moralis.User.current())}},R=z,W=(n("034f"),Object(h["a"])(R,o,r,!1,null,null,null)),B=W.exports,I=n("1f5a"),L=n.n(I);L.a.start({serverUrl:"https://y7frhp3tlrzx.usemoralis.com:2053/server",appId:"F20ksXFkS9hhc6K0AeLrYs22fofOyUu0rg1chdBp"}),s["default"].prototype.$moralis=L.a;var F=n("8c4f");s["default"].use(F["a"]);var J=n("5c96"),K=n.n(J);n("0fae");s["default"].use(K.a),console.log(U);var N=new F["a"]({routes:U}),X=N,Y=function(){return{}},q={},D={},G={},H={state:Y,mutations:q,getters:D,actions:G},Q=n("1da1"),V=(n("96cf"),n("b64b"),n("d3b7"),function(){return{user:{}}}),Z={setUser:function(t,e){t.user=e}},tt={username:function(t){var e;return null!==(e=t.user.attributes.username)&&void 0!==e?e:""},isAuthenticated:function(t){return Object.keys(t.user).length>0},image_username:function(t){return t.user.attributes?t.user.attributes.username.charAt(0).toUpperCase():""}},et={checkAuth:function(){var t=L.a.User.current();t&&this.commit("setUser",t)},login_process:function(t){var e=this,n=(t._,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return L.a.Web3.authenticate(n).then((function(t){e.commit("setUser",t)}))},logout:function(){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.a.User.logOut();case 2:t.commit("setUser",{});case 3:case"end":return e.stop()}}),e)})))()},changeUsername:function(t,e){var n=this;t._;return new Promise((function(t,s){var o=L.a.User.current(),r=o.get("username");if(!o)return s("user not logged in");o.set("username",e),o.save().then((function(e){n.commit("setUser",o),t(e)})).catch((function(t){o.set("username",r),s(t)}))}))}},nt={state:V,mutations:Z,getters:tt,actions:et},st=function(){return{new_post:{content:""},posts:[]}},ot={setPostContent:function(t,e){return t.new_post.content=e},setPosts:function(t,e){return t.posts=e}},rt={new_post:function(t){return t.new_post},posts:function(t){return t.posts}},ct={createPost:function(t){var e=t.state,n=t.commit,s=L.a.Object.extend("User"),o=new s,r=L.a.User.current();o.id=r.id;var c=L.a.Object.extend("Post"),a=new c;return a.set("content",e.new_post.content),a.set("writer",r),n("setPostContent",""),a.save()},getAllPost:function(t){return Object(Q["a"])(regeneratorRuntime.mark((function e(){var n,s,o,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,s={},e.prev=2,e.next=5,L.a.Cloud.run("getAllPost",s);case 5:o=e.sent,n("setPosts",o),e.next=14;break;case 9:e.prev=9,e.t0=e["catch"](2),r=e.t0.code,c=e.t0.message,console.log(r,c);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))()}},at={state:st,mutations:ot,getters:rt,actions:ct};s["default"].use(_["a"]);var it=new _["a"].Store({modules:{dashboard:H,user:nt,post:at}}),ut=it;n("4de4");s["default"].filter("img_username",(function(t){return t.charAt(0).toUpperCase()}));n("30e8");s["default"].config.productionTip=!1,new s["default"]({router:X,store:ut,render:function(t){return t(B)}}).$mount("#app")},6:function(t,e){},7:function(t,e){},8:function(t,e){},"85ec":function(t,e,n){},"88d0":function(t,e,n){"use strict";n("ddd3")},9:function(t,e){},ddd3:function(t,e,n){}});
//# sourceMappingURL=app.3106a0a4.js.map